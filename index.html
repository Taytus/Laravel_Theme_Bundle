<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Laravel theme bundle : Theme Bundle for laravel framework." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Laravel theme bundle</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/raftalks/Laravel_Theme_Bundle">View on GitHub</a>

          <h1 id="project_title">Laravel theme bundle</h1>
          <h2 id="project_tagline">Theme Bundle for laravel framework.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/raftalks/Laravel_Theme_Bundle/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/raftalks/Laravel_Theme_Bundle/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Theme Bundle for Laraval framework</h1>

<p>This bundle will help better organize the skin/theme of laravel applications. The bundle is designed to work as a wrapper to all the views loaded through laravel routes including controllers and those that sit under bundles.</p>

<h2>How to Install</h2>

<p>Installation is fairly easy as you would download and install any other bundle for laravel the same way.
Download this bundle and copy the directory <strong>Theme</strong> and its file into the laravel bundles directory.</p>

<p>You can install this bundle by running the following CLI command:</p>

<pre><code>php artisan bundle:install Theme
</code></pre>

<p>Alternatively you can download it directly from GitHub:</p>

<pre><code>http://github.com/raftalks/Laravel_Theme_Bundle
</code></pre>

<p>That's it, congratulations you have installed the bundle. </p>

<p>Now go to your public directory and create a new directory called themes (/public/themes/). You will use this directory to add your themes.</p>

<p>Almost done.</p>

<p>Wait.. you need to do few settings before you can start using Theme Bundle.</p>

<h2>Configuration</h2>

<p>Activate Theme Bundle by editing path/to/laravel/application/bundles.php
file and adding the following into the array.</p>

<pre><code>return array(
    'theme'=&gt;array('auto' =&gt; true)
);

</code></pre>

<p>Notice that we need to register the bundle with auto loading configuration enabled.</p>

<h1>How to create a theme</h1>

<h2>Structure of a theme</h2>

<ul>
<li>Theme Route directory : public/themes//</li>
<li>Theme Assets directory: public/themes//assets/  can contain js/, css/, img/ sub directories</li>
<li>Theme Layouts: public/themes//layouts/ this will contain all the layouts of the theme</li>
<li>Theme Partials: public/themes//partials/ this will contain partial html to be used in layouts</li>
<li>Theme Function File: public/themes//theme_function.php , this file will help setting up your theme assets, bind composer function to theme partials, etc.</li>
</ul><h1>How to use Theme Bundle within your application</h1>

<p>It's easy, you will need to replace laravels' View::make() to $theme-&gt;render()</p>

<p>Please note that Theme is used as a library and to make it available to all other areas of laravel framework, the library is registered inside Laravels' IoC container. You can find the code inside the start.php file of this bundle.</p>

<p>Before you can start using the instance of the Theme library, you will need to pass that instance to your variable, preferably set it as $theme. To do this, you can use the following code inside your route or controller.</p>

<pre><code>$theme = IoC::resolve('Theme');

</code></pre>

<h3>Set Theme</h3>

<p>To set the theme to be used with all the views, you may edit the file theme.php in the Theme bundle or pass the name of the theme object as shown below.
<code>$theme-&gt;set_theme("admin") ; //sets the library to use Admin theme from directory public/themes/admin</code></p>

<h3>Set Layout to wrap your view</h3>

<p>This is very useful. For example, you have separate layout for home page, blog list, post page, etc. </p>

<pre><code>function action_index(){
  $theme = IoC::resolve('Theme');

  $theme-&gt;set_layout('home'); // for controller action_index
  ...
</code></pre>

<p>In your layout files, you should include the following code in order to load the generated view from your application.</p>

<pre><code>&lt;?php echo $theme_content; ?&gt;
</code></pre>

<h3>Using Partials</h3>

<p>Partials are considered like html entities that represent theme UI element group etc. For example the Navigation menu or Side bar listing related posts etc. Dynamic data needed for partials can be passed through composer method provided in this Theme library. You can also use helper function to load a partial file without initially binding it to the $theme object.</p>

<p>Example 1. Binding a partial to the $theme object before rendering the theme.</p>

<pre><code>     $theme-&gt;theme_partial('main_navigation');
     $theme-&gt;theme_partial('sidebar');
</code></pre>

<p>Example 2. Loading a partial directly without binding the partial as done above.</p>

<pre><code>    //inside layout file home.php
    &lt;div id='navigation_container'&gt;
       &lt;?php echo theme_partial("main_navigation"); ?&gt;
    &lt;/div&gt;
    // you can use this as well, partial set as a variable prefixed with "theme_"
      &lt;?php echo $theme_main_navigation;?&gt;
</code></pre>

<p>Example 3. Passing data to partial</p>

<pre><code>$theme-&gt;theme_partial('main_navigation', $data);
&lt;?php echo theme_partial("main_navigation", $data); ?&gt;
</code></pre>

<h3>Binding Theme Partial with Composer</h3>

<p>One thing I like most about laravel is its View Composer. This theme library supports composer binding to theme partial to pass processed data through function callback.
Example.</p>

<pre><code> $theme-&gt;composer('main_navigation', function($view){
            $view-&gt;with('theme_main_navigation', "This is loaded from composer of the theme.");
 });
</code></pre>

<h3>Using theme_function.php</h3>

<p>This file sites in the root your theme folder. The function inside this file must always be named according to the pattern function theme_. The function must have one parameter that will get passed with instance of the theme object.</p>

<p>Example:</p>

<pre><code>function theme_admin($theme){
     $theme-&gt;add_asset('bootstrap.min.css');
     $theme-&gt;add_asset('jquery-1.7.2.min.js');
     $theme-&gt;add_asset('bootstrap.min.js');
     $theme-&gt;theme_partial('header');
     $theme-&gt;theme_partial('footer');
}
</code></pre>

<h3>Theme Assets &amp; other methods</h3>

<p>There are many other functions such as registering theme assets to be loaded to the layout.
Example</p>

<pre><code>$theme-&gt;add_asset('style.css');
</code></pre>

<p>In the theme layout or partial file containing the head tag of the html layout can load the asset files easily with following code.</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;&lt;?php echo $theme_data['title']; ?&gt;&lt;/title&gt;
    &lt;?php echo $theme_data['metadata']; ?&gt;
&lt;/head&gt;
...
</code></pre>

<h3>Page title tag</h3>

<p>As you can see in above example, the title tag contain <code>$theme_data['title']</code> to set the title string passed by the following method.</p>

<pre><code>$theme-&gt;title("Welcome");
</code></pre>

<p>It is always best to explode the file theme.php in this bundle, to understand the methods available as some of them and advanced features of it is not explained in here.</p>

<p>Please feel free to use this bundle at your own risk and let me know if you need any help. I am usually available at IRC channel of Laravel.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Laravel theme bundle maintained by <a href="https://github.com/raftalks">raftalks</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
